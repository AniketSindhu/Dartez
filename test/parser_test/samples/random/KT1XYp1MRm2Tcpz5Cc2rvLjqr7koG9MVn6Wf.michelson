parameter (or (unit %default) (pair %liquidation_update (pair (address %address) (nat %excess_kit)) (pair (nat %removed_collateral) (nat %repaid_kit)))); storage (pair (address %checker) (nat %liquidations_no)); code { UNPAIR ; IF_LEFT { DROP ; SENDER ; CONTRACT unit ; IF_NONE { PUSH nat 404 ; FAILWITH } {} ; AMOUNT ; UNIT ; TRANSFER_TOKENS ; SWAP ; NIL operation ; DIG 2 ; CONS ; PAIR } { DROP ; DUP ; CAR ; SENDER ; COMPARE ; NEQ ; IF { DROP ; PUSH nat 401 ; FAILWITH } { PUSH nat 1 ; DUP 2 ; CDR ; ADD ; SWAP ; CAR ; PAIR ; NIL operation ; PAIR } } }