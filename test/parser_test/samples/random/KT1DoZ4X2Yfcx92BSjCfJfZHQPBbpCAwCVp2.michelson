parameter (or (address %default) (pair %receiveQuipuswapReserves (nat %tezPool) (nat %tokenPool))); storage (pair (nat %x1) (nat %y1)); code { UNPAIR ; IF_LEFT { PUSH address "tz1i7Qv5vwJ9n3Htbpc4pksJeLPEcNfhDGMn" ; SENDER ; COMPARE ; EQ ; IF {} { PUSH string "WrongCondition: sp.sender == sp.address('tz1i7Qv5vwJ9n3Htbpc4pksJeLPEcNfhDGMn')" ; FAILWITH } ; CONTRACT %getReserves (contract (pair nat nat)) ; IF_NONE { PUSH int 18 ; FAILWITH } {} ; NIL operation ; SWAP ; PUSH mutez 0 ; SELF %receiveQuipuswapReserves ; TRANSFER_TOKENS ; CONS } { DUP ; DUG 2 ; CAR ; UPDATE 1 ; SWAP ; CDR ; UPDATE 2 ; NIL operation } ; PAIR }