[{"prim":"parameter","args":[{"prim":"unit","annots":["%go_to_the_kitchen"]}]},{"prim":"storage","args":[{"prim":"pair","args":[{"prim":"timestamp","annots":["%end_party"]},{"prim":"pair","args":[{"prim":"big_map","args":[{"prim":"string"},{"prim":"bytes"}],"annots":["%metadata"]},{"prim":"big_map","args":[{"prim":"address"},{"prim":"unit"}],"annots":["%participants"]}]}]}]},{"prim":"view","args":[{"string":"attended"},{"prim":"address"},{"prim":"bool"},[{"prim":"UNPAIR"},{"prim":"SWAP"},{"prim":"GET","args":[{"int":"4"}]},{"prim":"SWAP"},{"prim":"MEM"}]]},{"prim":"code","args":[[{"prim":"CDR"},{"prim":"DUP"},{"prim":"CAR"},{"prim":"NOW"},{"prim":"COMPARE"},{"prim":"LT"},{"prim":"IF","args":[[],[{"prim":"PUSH","args":[{"prim":"string"},{"string":"Someone called the police and the party is finished :("}]},{"prim":"FAILWITH"}]]},{"prim":"DUP"},{"prim":"GET","args":[{"int":"4"}]},{"prim":"SENDER"},{"prim":"MEM"},{"prim":"IF","args":[[{"prim":"PUSH","args":[{"prim":"string"},{"string":"You already joined the party! Are you drunk?"}]},{"prim":"FAILWITH"}],[]]},{"prim":"DUP"},{"prim":"GET","args":[{"int":"4"}]},{"prim":"PUSH","args":[{"prim":"option","args":[{"prim":"unit"}]},{"prim":"Some","args":[{"prim":"Unit"}]}]},{"prim":"SENDER"},{"prim":"UPDATE"},{"prim":"UPDATE","args":[{"int":"4"}]},{"prim":"NIL","args":[{"prim":"operation"}]},{"prim":"PAIR"}]]}]