parameter (unit %default); storage (pair (address %generic_oracle) (pair (address %sirs_oracle) (string %symbol))); view "get_price" unit nat { CDR ; DUP ; CAR ; SWAP ; DUP ; DUG 2 ; GET 4 ; VIEW "get_price" nat ; IF_NONE { PUSH int 502 ; FAILWITH } {} ; PUSH nat 1000000 ; DIG 2 ; GET 3 ; UNIT ; VIEW "get_price" nat ; IF_NONE { PUSH int 502 ; FAILWITH } {} ; MUL ; EDIV ; IF_NONE { PUSH int 93 ; FAILWITH } { CAR } }; code { CDR ; NIL operation ; SENDER ; CONTRACT unit ; IF_NONE { PUSH int 77 ; FAILWITH } {} ; AMOUNT ; UNIT ; TRANSFER_TOKENS ; CONS ; PAIR }