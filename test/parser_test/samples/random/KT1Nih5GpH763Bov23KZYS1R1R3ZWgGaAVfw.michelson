parameter (pair %name_seed (nat %seed) (string %name)); storage (big_map nat string); code { UNPAIR ; SWAP ; DUP ; DUG 2 ; SWAP ; DUP ; DUG 2 ; CAR ; MEM ; IF { PUSH string "The seed already has a name" ; FAILWITH } {} ; DUP ; CDR ; SIZE ; PUSH nat 64 ; SWAP ; COMPARE ; LE ; IF {} { PUSH string "The name cannot be longer than 64 characters" ; FAILWITH } ; PUSH mutez 0 ; AMOUNT ; COMPARE ; EQ ; IF {} { PUSH string "The operation does not need tez transfers" ; FAILWITH } ; DUP ; DUG 2 ; CDR ; SOME ; DIG 2 ; CAR ; UPDATE ; NIL operation ; PAIR }