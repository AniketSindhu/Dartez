parameter (pair %check_signature (key %public_key) (pair (signature %signature) (string %value))); storage int; code { UNPAIR ; DUP ; GET 4 ; DUP 3 ; PAIR ; PACK ; SWAP ; DUP ; GET 3 ; SWAP ; CAR ; CHECK_SIGNATURE ; IF {} { PUSH string "WrongCondition: sp.check_signature(params.public_key, params.signature, sp.pack(sp.record(c = self.data.counter, v = params.value)))" ; FAILWITH } ; PUSH int 1 ; ADD ; NIL operation ; PAIR }