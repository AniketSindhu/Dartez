parameter (or (string %changeName) (pair %makeMove (nat %idx) (nat %player))); storage (pair (big_map %games nat (pair (list %alayers address) (map %grid nat nat))) (string %name)); code { UNPAIR ; IF_LEFT { UPDATE 2 } { SWAP ; DUP ; CAR ; DUP ; PUSH nat 0 ; DUP ; DUG 2 ; GET ; IF_NONE { PUSH int 126 ; FAILWITH } {} ; DUP ; CDR ; DUP 6 ; CDR ; SOME ; DIG 6 ; CAR ; UPDATE ; UPDATE 2 ; SOME ; SWAP ; UPDATE ; UPDATE 1 } ; NIL operation ; PAIR }