parameter (or (unit %default) (string %solve)); storage bytes; code { UNPAIR ; IF_LEFT { DROP ; NIL operation ; PAIR } { SWAP ; DUP ; DUG 2 ; SWAP ; PACK ; BLAKE2B ; COMPARE ; NEQ ; IF { PUSH string "BAD_SOLVE" ; FAILWITH } {} ; NIL operation ; BALANCE ; SENDER ; CONTRACT unit ; IF_NONE { PUSH string "INVALID_TEZ_DESTINATION" ; FAILWITH } {} ; SWAP ; UNIT ; TRANSFER_TOKENS ; CONS ; PAIR } }