[{"prim":"parameter","args":[{"prim":"or","args":[{"prim":"or","args":[{"prim":"map","annots":["%update"],"args":[{"prim":"string","annots":[":assetcode"]},{"prim":"pair","args":[{"prim":"signature"},{"prim":"pair","args":[{"prim":"timestamp","annots":["%start"]},{"prim":"pair","args":[{"prim":"timestamp","annots":["%end"]},{"prim":"pair","args":[{"prim":"nat","annots":["%open"]},{"prim":"pair","args":[{"prim":"nat","annots":["%high"]},{"prim":"pair","args":[{"prim":"nat","annots":["%low"]},{"prim":"pair","args":[{"prim":"nat","annots":["%close"]},{"prim":"nat","annots":["%volume"]}]}]}]}]}]}]}]}]},{"prim":"signature","annots":["%revoke"]}]},{"prim":"contract","annots":["%request"],"args":[{"prim":"big_map","args":[{"prim":"string","annots":[":assetcode"]},{"prim":"pair","args":[{"prim":"timestamp","annots":["%start"]},{"prim":"pair","args":[{"prim":"timestamp","annots":["%end"]},{"prim":"pair","args":[{"prim":"nat","annots":["%open"]},{"prim":"pair","args":[{"prim":"nat","annots":["%high"]},{"prim":"pair","args":[{"prim":"nat","annots":["%low"]},{"prim":"pair","args":[{"prim":"nat","annots":["%close"]},{"prim":"nat","annots":["%volume"]}]}]}]}]}]}]}]}]}]}]},{"prim":"storage","args":[{"prim":"pair","args":[{"prim":"option","args":[{"prim":"key"}]},{"prim":"big_map","annots":["%values"],"args":[{"prim":"string","annots":[":assetcode"]},{"prim":"pair","args":[{"prim":"timestamp","annots":["%start"]},{"prim":"pair","args":[{"prim":"timestamp","annots":["%end"]},{"prim":"pair","args":[{"prim":"nat","annots":["%open"]},{"prim":"pair","args":[{"prim":"nat","annots":["%high"]},{"prim":"pair","args":[{"prim":"nat","annots":["%low"]},{"prim":"pair","args":[{"prim":"nat","annots":["%close"]},{"prim":"nat","annots":["%volume"]}]}]}]}]}]}]}]}]}]},{"prim":"code","args":[[{"prim":"UNPAIR"},{"prim":"IF_LEFT","args":[[{"prim":"IF_LEFT","args":[[{"prim":"DIP","args":[[{"prim":"UNPAIR"}]]},{"prim":"ITER","args":[[{"prim":"DUP"},{"prim":"UNPAIR"},{"prim":"SWAP"},{"prim":"UNPAIR"},{"prim":"DIP","args":[[{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"PACK"}]]},{"prim":"DUP","args":[{"int":"4"}]},[{"prim":"IF_NONE","args":[[[{"prim":"UNIT"},{"prim":"FAILWITH"}]],[]]}],{"prim":"CHECK_SIGNATURE"},[{"prim":"IF","args":[[],[[{"prim":"UNIT"},{"prim":"FAILWITH"}]]]}],{"prim":"DUP"},{"prim":"UNPAIR"},{"prim":"DUP","args":[{"int":"5"}]},{"prim":"SWAP"},{"prim":"GET"},[{"prim":"IF_NONE","args":[[[{"prim":"UNIT"},{"prim":"FAILWITH"}]],[]]}],[{"prim":"CDR"},{"prim":"CAR","annots":["@old_time"]}],{"prim":"SWAP"},[{"prim":"CDR"},{"prim":"CDR"},{"prim":"CAR","annots":["@new_time"]}],[[{"prim":"COMPARE"},{"prim":"GT"}],{"prim":"IF","args":[[],[[{"prim":"UNIT"},{"prim":"FAILWITH"}]]]}],{"prim":"UNPAIR"},{"prim":"DIP","args":[[{"prim":"CDR"},{"prim":"SOME"}]]},{"prim":"DIG","args":[{"int":"2"}]},{"prim":"DIP","args":[[{"prim":"UPDATE"}]]}]]}],[{"prim":"DIP","args":[[{"prim":"UNPAIR"}]]},{"prim":"PUSH","args":[{"prim":"option","args":[{"prim":"key"}]},{"prim":"None"}]},{"prim":"DUP"},{"prim":"DIP","args":[[{"prim":"PACK"},{"prim":"SWAP"},{"prim":"DIG","args":[{"int":"2"}]},[{"prim":"IF_NONE","args":[[[{"prim":"UNIT"},{"prim":"FAILWITH"}]],[]]}],{"prim":"CHECK_SIGNATURE"},[{"prim":"IF","args":[[],[[{"prim":"UNIT"},{"prim":"FAILWITH"}]]]}]]]}]]},{"prim":"PAIR"},{"prim":"NIL","args":[{"prim":"operation"}]}],[{"prim":"DUP","args":[{"int":"2"}]},{"prim":"CDR"},{"prim":"PUSH","args":[{"prim":"mutez"},{"int":"0"}]},{"prim":"SWAP"},{"prim":"TRANSFER_TOKENS"},{"prim":"NIL","args":[{"prim":"operation"}]},{"prim":"SWAP"},{"prim":"CONS"}]]},{"prim":"PAIR"}]]}]